!function(J,k){"use strict";var L="ht",I=J[L],G="innerHTML",y="className",H=null,p="px",d=I.Default,b=d.getInternal(),Z="0",O=function(){return document},K=function(e){return O().createElement(e)},P=function(){return K("canvas")},c=function(o,N,r){o.style.setProperty(N,r,H)},s=function(p,z,A){d.def(I.widget[p],z,A)},X=function(h,I){h.appendChild(I)},e=function(T,q){T.removeChild(q)},z=b.addEventListener,o=b.removeEventListener,W=d.isTouchable;b.addMethod(d,{menuLabelFont:(W?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),I.widget.Menu=function(N){var a=this,F=a._view=b.createView(null,a),s=a.$1g=new I.widget.ContextMenu,V=K("ul");s._r=!0,s._view[y]+=" ht-widget-dropdownmenu",F[y]="ht-widget-menu",V[y]="header",c(F,"margin",Z),c(F,"padding",Z),c(F,"background",d.menuBackground),c(F,"-webkit-user-select","none"),c(F,"-moz-user-select","none"),c(F,"user-select","none"),c(F,"text-align","left"),c(F,"border-bottom",d.menuSeparatorWidth+"px solid "+d.menuSeparatorColor),c(F,"cursor","default"),c(F,"overflow","auto"),c(F,"white-space","nowrap"),c(F,"font",d.menuLabelFont),c(F,"color",d.menuLabelColor),c(F,"box-sizing","border-box"),c(F,"-moz-box-sizing","border-box"),c(V,"list-style","none"),c(V,"margin",Z),c(V,"padding",Z),c(V,"display","inline-block"),X(F,V),a.setItems(N),a.$2g=function(N){a.$3g(N)},a.$4g=function(N){a.$5g(N)},a.$6g=function(u){a.$7g(u)},a.$8g=function(r){a.$9g(r)},a.$9b=function(P){a.$10g(P)},a._autoShow=!0,a.setAutoShow(!1),s.afterHide=function(){a.$11g()},s.afterShow=function(){a.$12g()},o(O(),"keydown",s.$3b),a.$3b=function(B){a.$13g(B)},a.invalidate()},s("Menu",k,{_items:H,$14g:d.menuHoverBackground,$15g:d.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(r){var H=this;if(H.$21g=r,H.setItems(H._items),"largeicons"===r){for(var j=H._view.querySelectorAll(".header-item"),G=0,Y=0;Y<j.length;Y++){var v=j[Y];G=Math.max(G,v.clientWidth)}for(var Y=0;Y<j.length;Y++){var v=j[Y];c(v,"min-width",G+p)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(Z){this.$22g=Z;for(var k=this._view.querySelectorAll(".header-item"),s=0;s<k.length;s++){var _=k[s];c(_,"margin-left",Z+p),c(_,"margin-right",Z+p)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(X){this.$23g=X;for(var V=this._view.querySelectorAll(".header-item"),g=0;g<V.length;g++){var b=V[g];c(b,"margin-top",X+p),c(b,"margin-bottom",X+p)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(Q){this.$24g=Q,c(this._view,"text-align",Q)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var R=this,Q=R._enableGlobalKey;Q===!1&&(z(O(),"keydown",R.$3b),R._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,o(O(),"keydown",this.$3b)},setHoverBackground:function(d){this.$14g=d},setHoverColor:function(z){this.$15g=z},setItems:function(L){var x=this,n=x._view,i=x.$21g;if(x._items=L,n.children[0][G]="",x.$16g={},L&&L.length){for(var Z=n.children[0],z=0,S=O().createDocumentFragment();z<L.length;z++){var m=L[z],k=K("li"),a=K("span");if(m.icon){var e=P();e[y]="menu-item-icon","smallicons"===i?(c(e,"height","1.2em"),c(e,"width","1.2em"),c(e,"vertical-align","middle")):(c(e,"height","32px"),c(e,"width","32px"),c(e,"display","block"),c(e,"margin","0 auto")),e.$20g=m.icon,X(k,e)}k[y]="header-item",c(k,"display","inline-block"),c(k,"vertical-align","top"),c(k,"padding","0 1.2em"),c(k,"line-height","1.8em"),"largeicons"===i&&c(k,"text-align","center"),c(k,"background-color","rgba(0,0,0,0)"),k.setAttribute("data-index",z),x.$16g[z]=m.items,a[G]=m.label,"iconsonly"!==i&&X(k,a),X(S,k)}X(Z,S)}},showDropdownMenu:function(L){var O=this,X=O.$16g[L],A=O.$1g,R=O._view.children[0].children[L],q=O.$17g;if(R&&R!==q){q&&O.hideDropdownMenu();var c=R.getBoundingClientRect(),k=d.getWindowInfo();O.$17g=R,A.setItems(X),A.show(c.left+k.left,c.top+c.height+k.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(K,h){var $=this,Z=$._items;return Z&&0!==Z.length?$.$1g.getItemByProperty(K,h,Z):H},$12g:function(){var Y=this,M=Y.$17g;M.style.background=Y.$14g,M.style.color=Y.$15g,Y._autoShow||z(O(),W?"touchstart":"mousedown",Y.$9b)},$11g:function(){var d=this,m=d.$17g;m&&(m.style.background="",m.style.color="",d.$17g=H),o(O(),W?"touchstart":"mousedown",d.$9b)},$10g:function(U){var I=this,t=I._view,a=I.$1g,F=t.children[0];!O().body.contains(t)||F.contains(U.target)||a._view.contains(U.target)||I.hideDropdownMenu()},$13g:function(t){var U=this,T=U.$1g;O().body.contains(U._view)&&T.$13b.$4b.call(T.$13b,t,U._items)},setAutoShow:function(N){var m=this,l=m.$1g,Z=m._view;m._autoShow!==N&&(m._autoShow?(o(Z,"mouseover",m.$2g),o(Z,"mouseout",m.$4g),o(l._view,"mouseout",m.$4g),W||(z(Z,"mouseover",m.$8g),z(Z,"mouseout",m.$8g)),z(Z,W?"touchstart":"mousedown",m.$6g)):(o(Z,"mouseover",m.$8g),o(Z,"mouseout",m.$8g),o(Z,W?"touchstart":"mousedown",m.$6g),o(O(),W?"touchstart":"mousedown",m.$9b),W||(z(Z,"mouseover",m.$2g),z(Z,"mouseout",m.$4g),z(l._view,"mouseout",m.$4g))),m._autoShow=N)},$3g:function($){var b=this,Y=b._view.children[0],G=$.target;if(Y!==G&&Y.contains(G)){for(;"header-item"!==G[y];)G=G.parentNode;b.showDropdownMenu(G.getAttribute("data-index"))}},$5g:function(x){var X=this,b=X._view.children[0],t=X.$1g,y=x.target,r=x.relatedTarget;!b.contains(y)&&!t._view.contains(y)||b.contains(r)||t._view.contains(r)||X.hideDropdownMenu()},$7g:function(m){m.preventDefault();var b=this,V=b._view.children[0],G=b.$1g,n=m.target;if(d.isLeftButton(m)&&V!==n&&V.contains(n))if(W){for(;"header-item"!==n[y];)n=n.parentNode;var $=n.getAttribute("data-index"),G=b.$1g,J=b._view.children[0].children[$],p=b.$17g;G.isShowing()&&b.hideDropdownMenu(),J!==p&&b.showDropdownMenu($)}else if(G.isShowing())b.hideDropdownMenu();else{for(;"header-item"!==n[y];)n=n.parentNode;b.showDropdownMenu(n.getAttribute("data-index"))}},$9g:function(x){var F=this,l=F._view,c=F.$1g,$=x.target;if(l.contains($)){for(var D=l.querySelectorAll(".header-item"),N=H,t=0;t<D.length;t++){var S=D[t];S.style.background="",S.style.color="","mouseover"===x.type?S.contains($)&&(N=S):"mouseout"===x.type&&c.isShowing()&&F.$17g===S&&(N=S)}c.isShowing()&&(N||(N=F.$17g),F.showDropdownMenu(N.getAttribute("data-index"))),N&&(N.style.background=F.$14g,N.style.color=F.$15g)}},getShowingMenuIndex:function(){var o=this.$17g;return o?o.getAttribute("data-index"):-1},addTo:function(x){var R=this,L=R._view;X(x,L),R.invalidate()},dispose:function(){var t=this,l=t._view,p=t.$1g;l&&(t._autoShow?(o(l,"mouseover",t.$2g),o(l,"mouseout",t.$4g),o(p._view,"mouseout",t.$4g)):(o(l,"mouseover",t.$8g),o(l,"mouseout",t.$8g),o(l,W?"touchstart":"mousedown",t.$6g),o(O(),W?"touchstart":"mousedown",t.$9b)),o(O(),"keydown",t.$3b),p.dispose(),l.parentNode&&e(l.parentNode,l),t._view=t.$1g=t.$16g=t._items=t.$17g=t.$2g=t.$4g=t.$6g=t.$8g=t.$9b=t.$3b=H)},$19g:function(F,U,y,I){var x=b.initContext(F);b.translateAndScale(x,0,0,1),x.clearRect(0,0,y,I),d.drawStretchImage(x,d.getImage(U),"fill",0,0,y,I),x.restore()},validateImpl:function(){var s,j,p,X=this,i=X._view,$=i.querySelectorAll(".menu-item-icon");for(p=0;p<$.length;p++){var Y=$[p];s=Y.clientWidth,j=Y.clientHeight,s&&j&&(b.setCanvas(Y,s,j),X.$19g(Y,d.getImage(Y.$20g),s,j))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);