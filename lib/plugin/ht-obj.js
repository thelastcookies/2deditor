!function(W,I,V){"use strict";var w="ht",e=W[w],z=null,h=Math,Y=h.abs,Q=h.max,k=Number.MAX_VALUE,f=e.Default,X=f.getInternal(),A=f.clone,M=X.vec3TransformMat4,b=[0,0],y=X.appendArray,g=function(){function j(h,E,e,T){if(h){var u=h[T];if(u){e.ignoreColor||(E.color=u.kd),!e.ignoreTransparent&&u.d>0&&u.d<1&&(E.transparent=!0,E.opacity=u.d);var L;if(!e.ignoreImage&&(L=u.map_kd)){L=L.split(" ");for(var S=-1,F=0;F<L.length;F++)"-o"===L[F]?(E.uvOffset=[parseFloat(L[F+1]),parseFloat(L[F+2])],F+=3,S=F):"-s"===L[F]&&(E.uvScale=[parseFloat(L[F+1]),parseFloat(L[F+2])],F+=3,S=F);E.image=(e.prefix||"")+L.splice(S+1).join(" ")}}}}var o=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,K=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,$=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,Z=/^[og]\s*(.+)?/,u=function(d,O){return O=parseInt(O),O>=0?d[O-1]:d[O+d.length]},r=function(j,T,s,C,r){if(j.lvs){var E=u(T,C),Z=u(T,r),k=s.matrix,P=j.lvs;k?(y(P,M(A(E),k)),y(P,M(A(Z),k))):(y(P,E),y(P,Z))}},H=function(Z,h,C,p,o,S){if(Z.vs){var V=u(h,p),B=u(h,o),i=u(h,S),Q=C.matrix,T=Z.vs;if(C.flipFace){var U=B;B=i,i=U}Q?(y(T,M(A(V),Q)),y(T,M(A(B),Q)),y(T,M(A(i),Q))):(y(T,V),y(T,B),y(T,i))}},h=function(W,O,h,x,o,y){if(W.vs){var U=h.flipY,z=x===V?b:u(O,x),Q=o===V?b:u(O,o),w=y===V?b:u(O,y);if(h.flipFace){var X=Q;Q=w,w=X}W.uv.push(z[0],U?1-z[1]:z[1],Q[0],U?1-Q[1]:Q[1],w[0],U?1-w[1]:w[1])}},E=function(C,G,E,l,Y,i){if(C.vs){var d=u(G,l),B=u(G,Y),T=u(G,i),s=E.normalMatrix,N=C.ns;if(E.flipFace){var P=B;B=T,T=P}s?(y(N,M(A(d),s)),y(N,M(A(B),s)),y(N,M(A(T),s))):(y(N,d),y(N,B),y(N,T))}},N=function(H,j,U,S){for(var x=S.length-1,z=0;x>z;++z)r(H,j,U,S[z],S[z+1]);r(H,j,U,S[x],S[0])},x=function(T,s,t,N,x,u,d,Z){var w=N&&N.length&&Z;u[3]===V?(H(T,s,x,u[0],u[1],u[2]),d?h(T,t,x,d[0],d[1],d[2]):T.uv&&T.uv.length&&h(T,t,x),w&&E(T,N,x,Z[0],Z[1],Z[2])):(H(T,s,x,u[0],u[1],u[3]),H(T,s,x,u[1],u[2],u[3]),d?(h(T,t,x,d[0],d[1],d[3]),h(T,t,x,d[1],d[2],d[3])):T.uv&&T.uv.length&&(h(T,t,x),h(T,t,x)),w&&(E(T,N,x,Z[0],Z[1],Z[3]),E(T,N,x,Z[1],Z[2],Z[3])))},s=function(T,s,q,z){var i,h,p,a,F,l,V,j,Z=k,c=k,W=k,H=-k,I=-k,S=-k;for(i in T)for(l=T[i].vs,j=l.length,h=0;j>h;h+=3)p=l[h+0],a=l[h+1],F=l[h+2],Z>p&&(Z=p),c>a&&(c=a),W>F&&(W=F),p>H&&(H=p),a>I&&(I=a),F>S&&(S=F);if(q){var D=Z+(H-Z)/2,C=c+(I-c)/2,G=W+(S-W)/2;for(i in T){for(l=T[i].vs,j=l.length,h=0;j>h;h+=3)l[h+0]-=D,l[h+1]-=C,l[h+2]-=G;if(V=T[i].lvs)for(j=V.length,h=0;j>h;h+=3)V[h+0]-=D,V[h+1]-=C,V[h+2]-=G}}var d,$,n;q?(d=H-Z,$=I-c,n=S-W):(d=2*Q(Y(Z),Y(H)),$=2*Q(Y(c),Y(I)),n=2*Q(Y(W),Y(S))),0===d&&(d=Math.min($,n)/1e3||.001),0===$&&($=Math.min(d,n)/1e3||.001),0===n&&(n=Math.min(d,$)/1e3||.001),z.rawS3=[d,$,n];for(i in T){if(l=T[i].vs,V=T[i].lvs,s){for(j=l.length,h=0;j>h;h+=3)d&&(l[h+0]/=d),$&&(l[h+1]/=$),n&&(l[h+2]/=n);if(V)for(j=V.length,h=0;j>h;h+=3)d&&(V[h+0]/=d),$&&(V[h+1]/=$),n&&(V[h+2]/=n);var w=T[i].ns;if(w){j=w.length;var K=new e.Math.Vector3;for(h=0;j>h;h+=3)K.set(w[h+0]*d,w[h+1]*$,w[h+2]*n).normalize(),w[h+0]=K.x,w[h+1]=K.y,w[h+2]=K.z}}T[i].rawS3=z.rawS3}};return function(G,E,R){if(!G)return z;(X.isString(E)||E instanceof ArrayBuffer)&&(E=O(E)),R||(R={}),R.flipY==z&&(R.flipY=!0),(R.s3||R.r3||R.t3||R.mat)&&(R.matrix=X.createWorldMatrix(R.mat,R.s3,R.r3,R.rotationMode,R.t3));var B,r,c,i,W=e.Style["wf.loadQuadWireframe"],n=[],q=[],b=R.ignoreNormal?z:[],C=R.reverseFlipMtls,D={vs:[],uv:[],ns:b?[]:z},L={htdefault:D},Q=new m(G),U="",w="";for(b&&R.matrix&&(R.normalMatrix=X.createNormalMatrix(R.matrix));null!=(r=Q.stepNext());)if(r=r.trim(),0!==r.length&&"#"!==r.charAt(0))if(r.indexOf("\\")!==r.length-1){if(U&&(r=U+r,U=""),r.indexOf("#QNAN0")>=0&&(r=r.replace(/#QNAN0/gi,"0")),c=o.exec(r))n.push([parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])]);else if(c=K.exec(r))q.push([parseFloat(c[1]),parseFloat(c[2])]);else if(b&&(c=$.exec(r)))R.flipFace?b.push([parseFloat(-c[1]),parseFloat(-c[2]),parseFloat(-c[3])]):b.push([parseFloat(c[1]),parseFloat(c[2]),parseFloat(c[3])]);else if("f"===r[0]){var I=r.split(/\s+/);if(I.length<4)continue;var M,B,l,v=[],_=[],d=[];for(B=1,l=I.length;l>B;B++)M=I[B].split("/"),v.push(parseInt(M[0],10)),M.length>1&&M[1].length>0&&d.push(parseInt(M[1],10)),M.length>2&&M[2].length>0&&_.push(parseInt(M[2],10));for(B=0,l=v.length-2;l>B;B++)x(D,n,q,b,R,[v[0],v[B+1],v[B+2]],d.length?[d[0],d[B+1],d[B+2]]:z,_.length?[_[0],_[B+1],_[B+2]]:z);W&&N(D,n,R,v)}else if(R.part&&null!==(c=Z.exec(r)))w=(" "+c[0].substr(1).trim()).substr(1);else if(/^usemtl /.test(r)){i=r.substring(7).trim();var A=R.part?w+"_"+i:i;(D=L[A])||(D=L[A]={name:A,vs:[],uv:[],ns:b?[]:z,lvs:W?[]:z},R.ignoreMtls&&R.ignoreMtls.indexOf(i)>=0&&delete D.vs,(R.reverseFlip||"*"===C||C&&C.indexOf(i)>=0)&&(D.reverseFlip=!0),j(E,D,R,i))}}else U+=r.substring(0,r.length-1);var u=[];for(var g in L){var F=L[g].vs;if(F&&0!==F.length){var k=L[g].uv;if(k)for(var H=2*F.length/3-k.length;H-->0;)k.push(0)}else u.push(g)}u.forEach(function(i){delete L[i]}),s(L,R.cube,R.center,R);var P=R.shape3d;if(P){var t=[];for(var i in L){var D=L[i];t.rawS3=D.rawS3,t.push(D)}f.setShape3dModel(P,t)}return L}}(),O=function(J){var O={};if(J)for(var S,Q,P,y,c,V,K=new m(J),k=/\s+/;null!=(Q=K.stepNext());)Q=Q.trim(),0!==Q.length&&"#"!==Q.charAt(0)&&(P=Q.indexOf(" "),y=(P?Q.substring(0,P):Q).toLowerCase(),c=(P?Q.substring(P+1):"").trim(),"newmtl"===y?O[c]=S={name:c}:S&&("ka"===y||"kd"===y||"ks"===y?(V=c.split(k,3),S[y]=[parseFloat(V[0]),parseFloat(V[1]),parseFloat(V[2]),1]):S[y]="ns"===y||"d"===y?parseFloat(c):c));return O},m=function(n){var N=this;if(n instanceof ArrayBuffer){N.isBuffer=!0;var g=0,Y=new Uint8Array(n),W=Y.length,J=Y.length;N.stepNext=function(){for(var n,I,i=g;W>g;)if(n=Y[g],I=n>>4,12===I||13==I)g+=2;else if(14===I)g+=3;else if(g++,10===n)return String.fromCharCode.apply(null,Y.subarray(i,g));return g>i?String.fromCharCode.apply(null,Y.subarray(i,g)):null}}else{N.isBuffer=!1;var Q=n.split("\n"),Z=0,J=Q.length;N.stepNext=function(){return J>Z?Q[Z++]:null}}};m.prototype={},m.prototype.constructor=m,X.addMethod(f,{loadObj:function(N,G,M){M=M||{};var u=!1;/(MSIE |Trident\/|Edge\/)/.test(W.navigator.userAgent)&&(u=!0);var i=function(R){var k,$=M.finishFunc,e=M.shape3d,x=R?g(R[0],R[1],M):null;if(x){if(e)k=f.getShape3dModel(e);else{k=[];for(var N in x){var p=x[N];k.rawS3=p.rawS3,k.push(p)}}$&&$(x,k,k.rawS3)}else $&&$(null)};if(u){M.responseType="arraybuffer";var P=function(w){f.xhrLoad(N,function(I){i([I,w])},M)};G?f.xhrLoad(G,function(L){P(L)},M):P()}else f.xhrLoad(G?[N,G]:[N],i,M)},parseObj:function(L,o,x){return g(L,o,x)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);